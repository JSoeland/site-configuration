<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Trimark | True:Control</title>
  <link rel="shortcut icon" type="image/png" href="assets/images/logos/favicon.png" />
  <link rel="stylesheet" href="assets/css/styles.min.css" />
  <link rel="stylesheet" href="assets/css/sidebar.css" />
  <link rel="stylesheet" href="assets/css/accordion.css" />
  	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	
	<style>
#energyChart {
width:880px !important;
height:480px !important;
}
</style>
</head>

<body style="overflow-x:hidden;">
  <!--  Body Wrapper -->
  <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed">
	
	<header class="app-header">
        <nav class="navbar navbar-expand-lg navbar-light">
          <ul class="navbar-nav">
            <li class="nav-item d-block d-xl-none">
              <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
                <i class="ti ti-menu-2"></i>
              </a>
            </li>
            <li class="site-title">
			 Hyperion
            </li>
			   
          </ul>
		 
          <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
            <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
               <li>
				<div class="weather">
					<ul>
					<li id="pst-time"></li>
					<li id="utc-time"></li>
					<li>82° F Sunny <i class="ti ti-sun"></i></li>
					</ul>
				</div>
				</li>
              <li class="nav-item dropdown">
                <a class="nav-link nav-icon-hover" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown"
                  aria-expanded="false">
                 <div class="avatar-initial">J</div>
                </a>
               
              </li>
            </ul>
          </div>
        </nav>
      </header>
	  
	  
    <!-- Sidebar Start -->
    <aside class="left-sidebar">
      <!-- Sidebar scroll-->
      <div>
       <div class="notification-red2">•</div>
        <!-- Sidebar navigation-->
        <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
		  
		  <ul id="sidebarnav">
		            	<li class="sidebar-item">
              <a class="sidebar-link" href="./index.html" aria-expanded="false">
                <span>
                  <i class="ti ti-timeline-event"></i>
                </span>
                <span class="hide-menu">Site Status</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" href="./site-equipment.html" aria-expanded="false">
                <span>
                  <i class="ti ti-layout-dashboard"></i>
                </span>
                <span class="hide-menu">Site Equipment</span>
              </a>
            </li>
			<li class="sidebar-item indent no-link">
                <span class="hide-menu">Substation</span>
            </li>
			<!--
			<li class="sidebar-item indent no-link">
                <span class="hide-menu">Met Data</span>
            </li>
			<li class="sidebar-item indent no-link">
                <span class="hide-menu">Network</span>
            </li>
			-->
			<li class="sidebar-item indent">
              <a class="sidebar-link" href="./inverters.html" aria-expanded="false">
                <span class="hide-menu">Inverters</span>
              </a>
            </li>
			<!--
			<li class="sidebar-item indent no-link">
                <span class="hide-menu">Trackers</span>
            </li>-->
            <li class="sidebar-item">
              <a class="sidebar-link" href="./points.html" aria-expanded="false">
                <span>
                  <i class="ti ti-hierarchy-2"></i>
                </span>
                <span class="hide-menu">Points</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" href="./alarms.html" aria-expanded="false">
                <span>
                  <i class="ti ti-alert-triangle"></i>
                </span>
                <span class="hide-menu">Alarms</span>
              </a>
            </li>
            <li class="sidebar-item">
              <a class="sidebar-link" href="./controls.html" aria-expanded="false">
                <span>
                  <i class="ti ti-adjustments"></i>
                </span>
                <span class="hide-menu">Controls</span>
              </a>
            </li>
           			<!--
            <li class="sidebar-item">
              <a class="sidebar-link" href="./trends.html" aria-expanded="false">
                <span>
                  <i class="ti ti-chart-line"></i>
                </span>
                <span class="hide-menu">Trends</span>
              </a>
            </li>
			-->
			<li class="sidebar-item">
              <a class="sidebar-link" href="./logs.html" aria-expanded="false">
                <span>
                  <i class="ti ti-list"></i>
                </span>
                <span class="hide-menu">Logs</span>
              </a>
            </li>
          </ul>
         
        </nav>
        <!-- End Sidebar navigation -->
      </div>
      <!-- End Sidebar scroll-->
    </aside>
    <!--  Sidebar End -->
    <!--  Main wrapper -->
    <div class="body-wrapper">
      <!--  Header Start -->
      
	  
      <!--  Header End -->
      <div class="container-fluid">
	  
	  
	  <div class="row mb-3 align-items-center">
          <div class="col-lg-6">
			 <div class="device-name"><h4>Inverter 1.A.2 </h4></div> 
			 <div class="device-model"> <i class="ti ti-bolt"></i>SMA SC2600</div>
			 <div class="device-folder"> <i class="ti ti-folder"></i>Inverters / SMA Inverters</div>
            </div>
		 <div class="col-lg-6">
			   <a onclick="toggleSidebar2()" style="cursor:pointer;"><div class="alarm-pill-high"> <i class="ti ti-alert-triangle"></i>1 High</div></a>
          </div>
	  </div>
	  
	    <div class="row mb-3">
	<ul class="tab"><li class="active">Overview</li><li>Controls</li></ul>
	</div>
	
     <div id="snackbar">
		<div class="col-lg-1 left-right">
			<i class="ti ti-chevron-left"></i>
			<i class="ti ti-chevron-right"></i>
	  </div>
	  <div class="col-lg-9">
			<div class="row">
			<div class="col-lg-1"><div class="alarm-pill-high"> <i class="ti ti-alert-triangle"></i>High</div></div>
			<div class="col-lg-1">10:02 AM  </div>
			<div class="col-lg-1"> Inverter 1.A.2</div>
			 <div class="col-lg-9"><h5>Inverter Fault</h5>Inverter has reported the following fault: (Insulation impedance)</div>
			 </div>
	  </div>
	  <div class="col-lg-2 snackbar-cta">
	   <a href ="./alarms.html">Go to Alarms</a>
	  <button class="close-btn" onclick="closeSnackbar()">✖</button>
	  </div>
  </div>
	<!--
	<div class="status-bar mt-3">
      <div>Error Count <h4>0</h4></div>
      <div>Timeouts <h4>20129</h4></div>
      <div>Receive (Rx) <h4>2563015</h4></div>
      <div>Transmit (Tx) <h4>0</h4></div>
    </div>
-->

			
		<div class="row">
		  
		  	 <div class="col-lg-4">
              <div class="card" style="height:480px;">
				<div class="carda mt-2" style="border:none;">
		  <div class="equipment-emphasis"><h2 class="alarm-medium">1,876<span>kW</span></h2></div>
		  <div class="kw-bar-container">
								  <div class="kw-bar" style="width: 64%;"></div>
								</div>
								<br>
		  <ul class="equipment"><li>Reactive Power</li><li>134.98</li><li>kVAR</li></ul>
          <ul class="equipment"><li>Power Factor</li><li>1</li><li>PF</li></ul>
		   <ul class="equipment"><li>Voltage</li><li>637.53</li><li>Volts</li></ul>
		   <ul class="equipment"><li>Current - Ph A</li><li>1638</li><li>Amps</li></ul>
		  <ul class="equipment"><li>Current - Ph B</li><li>1638</li><li>Amps</li></ul>
		  
		  <br>
		  <ul class="equipment"><li>Error Count</li><li>0</li></ul>
		  <ul class="equipment"><li>Timeouts</li><li>322</li></ul>
		  <ul class="equipment"><li>Receive (Rx)</li><li>234456</li></ul>
		  <ul class="equipment"><li>Transmit (Tx)</li><li>0</li></ul>

		  <!--
		  <div class="row mt-4 inverter-stats">
								 <div class="col-lg-3">Error Count <h4>0</h4></div>
								  <div class="col-lg-3">Timeouts <h4>322</h4></div>
								   <div class="col-lg-3">Receive (Rx)<h4>234456</h4></div>
								    <div class="col-lg-3">Transmit (Tx)<h4>0</h4></div>
								</div>  
								-->
        </div>

                  </div>
            </div>
		  <div class="col-lg-8">
                <!-- Yearly Breakup -->
				<div class="card">
                    <div class="row">
                       <div class="chart-container"> <canvas id="energyChart"></canvas></div>
                  </div>
            </div>
          </div>
		</div>
		
		
		  
	<div class="search-bar">
	<div class="row-begin">
      	  <div class="search-container">
	  <i class="ti ti-search search-icon"></i>
      <input type="text" placeholder="Search...">
	  </div>
	  <label>
			<div>Server<i class="ti ti-chevron-down"></i></div>
			  <input type="checkbox" class="dd-input" id="test">
			  <ul class="dd-menu">
				<li>[Server 1 Name]</li>
				<li>[Server 2 Name]</li>
			  </ul>
			</label>
    </div>
	</div>
	
	<table class="table">
      <thead>
        <tr>
          <th>Point</th>
          <th>Type</th>
          <th>Identifier</th>
          <th>Data Quality</th>
          <th>Raw Value</th>
		  <th>Engineering Value</th>
		  <th>Unit of Measure</th>
		  <th>Last Change (PST)</th>
		  <th>Last Reading (UTC)</th>
        </tr>
      </thead>
      <tbody>
        <tr onclick="toggleSidebar()" style="cursor:pointer;">
		  <td><strong>Point Name</strong><br><small>Server / Dataset Name</small></td>
		  <td><div class="icon-left"><i class="ti ti-arrow-left"></i></div><strong>Modbus</strong><br><small>Holding Register</small></td>
          <td>440016</td>
          <td><span class="greendot">•</span>Online</td>
		  <td>56</td>
		   <td>56</td>
		   <td>%</td>
		    <td><small>4/8/25</small><br>10:34:45 AM</td>
          <td><small>4/8/25</small><br>10:34:45 AM</td>
        </tr>
        <tr>
		  <td><strong>Point Name</strong><br><small>Server / Dataset Name</small></td>
		  <td><div class="icon-left"><i class="ti ti-arrow-left"></i></div><strong>Modbus</strong><br><small>Holding Register</small></td>
          <td>440016</td>
          <td><span class="greendot">•</span>Online</td>
		  <td>56</td>
		   <td>56</td>
		   <td></td>
		    <td><small>4/8/25</small><br>10:34:45 AM</td>
          <td><small>4/8/25</small><br>10:34:45 AM</td>
        </tr>
        <tr>
		  <td><strong>Point Name</strong><br><small>Server / Dataset Name</small></td>
		  <td><div class="icon-left"><i class="ti ti-arrow-left"></i></div><strong>Modbus</strong><br><small>Input Register</small></td>
          <td>440016</td>
          <td><span class="greendot">•</span>Online</td>
		  <td>56</td>
		   <td>56</td>
		   <td>Amps</td>
		    <td><small>4/8/25</small><br>10:34:45 AM</td>
          <td><small>4/8/25</small><br>10:34:45 AM</td>
        </tr>
        <tr>
		  <td><strong>Calculation Name</strong></td>
		  <td><div class="icon-left"><i class="ti ti-calculator" style="color:#909090;"></i></div><strong>Calculation</strong><br><small>Average</small></td>
          <td>440016</td>
          <td><span class="greendot">•</span>Online</td>
		  <td>56</td>
		   <td>56</td>
		   <td>Volts</td>
		    <td><small>4/8/25</small><br>10:34:45 AM</td>
          <td><small>4/8/25</small><br>10:34:45 AM</td>
        </tr>
		        <tr>
		  <td><strong>Point Name</strong><br><small>Server / Dataset Name</small></td>
		  <td><div class="icon-left"><i class="ti ti-arrow-right"></i></div><strong>Modbus</strong><br><small>Analog Setpoint</small></td>
          <td>440016</td>
          <td><span class="greendot">•</span>Online</td>
		  <td>56</td>
		   <td>56</td>
		   <td>%</td>
		    <td><small>4/8/25</small><br>10:34:45 AM</td>
          <td><small>4/8/25</small><br>10:34:45 AM</td>
        </tr>
		
       
        <!-- Add more rows here as needed -->
      </tbody>
    </table>
	
</div></div>	

  <div class="sidebar-container" id="sidebar">
    <div class="sidebar-header">
      <h2>Point Name</h2>
      <span style="cursor: pointer;" onclick="toggleSidebar()">✕</span>
    </div>
    <div class="sidebar-subtitle">Server / Dataset Name</div>
	<div class="point-sidebar-greendot"><span class="greendot">•</span>Online</div>
	
	<div class="row force-value mt-2">
	<div class="col-lg-6">Engineering<br><h2>56</h2></div>
	<div class="col-lg-6">Raw Value<br><h2>56</h2></div>
	<div class="col-lg-12">
							<div class="force-value" onclick="toggleControl(this)">
								<span>Force Value</span>
							</div>
							<div class="control-content2">
							<label class="radio-container"><span class="custom-radio"></span><input type="radio" checked="checked" name="radio">Engineering</label>
							<label class="radio-container"><span class="custom-radio"></span><input type="radio" name="radio">Raw</label>
								<div class="field-container">
								  <input type="text" placeholder="0">
								  </div>
								  <div class="button">Force</div>
							</div>
	</div>
	</div>


 <div class="row">
 <div class="col-lg-6">
 <div class="sidebar-subtitle">Last Change</div>
 <input type="text" id="tenMinutesAgoDateA" readonly>
<input type="text" id="tenMinutesAgoTimeA" readonly>
 </div>
  <div class="col-lg-6">
  <div class="sidebar-subtitle">Last Reading</div>
<div class="col-lg-6"><input type="text" id="tenMinutesAgoDateB" readonly></div>
<div class="col-lg-6"><input type="text" id="tenMinutesAgoTimeB" readonly> </div>
</div>
</div>



		
    <hr>
    <div class="sidebar-subtitle">Point Details</div>

    <div class="field"><label>Modbus Register</label><input type="text" value="30009" readonly></div>
    <div class="field"><label>Object Type</label><input type="text" value="Modbus Input Register" readonly></div>
    <div class="field"><label>Data Type</label><input type="text" value="Int32" readonly></div>
    <div class="field"><label>Unit of Measure</label><input type="text" value="Counts" readonly></div>
    <div class="field"><label>Scaling</label><input type="text" value="Eng" readonly></div>
    <div class="field"><label>Engineering Min</label><input type="text" value="-0" readonly></div>
    <div class="field"><label>Engineering Max</label><input type="text" value="100" readonly></div>
    <div class="field"><label>Conversion Factor</label><input type="text" value="1" readonly></div>
    <div class="field"><label>Significant Digits</label><input type="text" value="3" readonly></div>
    <div class="field"><label>Conversion Offset</label><input type="text" value="0" readonly></div>
    <div class="field"><label>Deadband</label><input type="text" value="0" readonly></div>
    <div class="field"><label>Negate</label><input type="text" value="Disabled" readonly></div>
    <div class="field"><label>Historization</label><input type="text" value="Disabled" readonly></div>
    <div class="field"><label>Point Type</label><input type="text" value="None" readonly></div>
  </div>
  

	<div class="sidebar-container" id="sidebar2">
    <div class="sidebar-header">
 <div></div>
 <span style="cursor: pointer;" onclick="toggleSidebar2()">✕</span>
    </div>
   
   
   <h5>Inverter Fault</h5>
   
<p>Inverter has reported the following fault: (Insulation impedance) </p>
<div class="alarm-pill-high" style="display:inline-block; margin:0  0 8px 0; float:none;"> <i class="ti ti-alert-triangle"></i>High</div>


 <div class="sidebar-subtitle">Action</div>
<p>Evaluate active tracker and inverter faults. Check if a combiner / inverter module is off, or if something else such as a tracker or site curtailment is limiting production. Dispatch to site and open outage for capacity derate as necessary.</p>


	<div class="row">
	<div class="col-lg-3 sidebar-subtitle">ID</div>
		<div class="col-lg-3 sidebar-subtitle">Raised</div>
	</div>
	<div class="row">
	<div class="col-lg-3">1563386</div>
		<div class="col-lg-3">    <input type="text" id="tenMinutesAgoDate9" readonly></div>
		<div class="col-lg-3"> <input type="text" id="tenMinutesAgoTime9" readonly>
		</div>
	</div>
	<br/>
	 <h6>Alarm History</h6>

  <div class="row">
	<div class="col-lg-3 sidebar-subtitle">ID</div>
		<div class="col-lg-3 sidebar-subtitle">Raised</div>
				<div class="col-lg-3 sidebar-subtitle">Cleared</div>
		<div class="col-lg-3 sidebar-subtitle">User</div>
	</div>
    <div class="row">
	<div class="col-lg-3">1634567</div>
		<div class="col-lg-3">05/17/2025 05:34 AM</div>
				<div class="col-lg-3">05/17/2025 05:39 AM</div>
		<div class="col-lg-3">Jerry Benson</div>
	</div>
    <div class="row mt-2">
	<div class="col-lg-3">1634503</div>
		<div class="col-lg-3">05/16/2025 08:12 AM</div>
				<div class="col-lg-3">05/16/2025 08:18 AM</div>
		<div class="col-lg-3">Kerry Harolds</div>
	</div>
    <div class="row mt-2">
	<div class="col-lg-3">1634478</div>
		<div class="col-lg-3">05/15/2025 12:11 AM</div>
				<div class="col-lg-3">05/15/2025 12:56 AM</div>
		<div class="col-lg-3">Jerry Benson</div>
	</div>
    <div class="row mt-2">
	<div class="col-lg-3">1634434</div>
		<div class="col-lg-3">05/14/2025 05:34 AM</div>
				<div class="col-lg-3">05/14/2025 05:39 AM</div>
		<div class="col-lg-3">Oliver Frank</div>
	</div>


	
  </div>
  
  
  <script src="assets/libs/jquery/dist/jquery.min.js"></script>
  <script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/sidebarmenu.js"></script>
  <script src="assets/js/app.min.js"></script>
  <script src="assets/libs/apexcharts/dist/apexcharts.min.js"></script>
  <script src="assets/libs/simplebar/dist/simplebar.js"></script>
  <script src="assets/js/dashboard.js"></script>
  
   <script>
function toggleControl(header) {
  const content = header.nextElementSibling;
  content.classList.toggle('open');
}
</script>
  <script>
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('open');
    }
  </script>
   <script>
    function toggleSidebar2() {
      document.getElementById('sidebar2').classList.toggle('open');
    }
  </script>
   <script>
    function closeSnackbar() {
      document.getElementById("snackbar").style.display = "none";
    }
  </script>



 <script>
  const ctx = document.getElementById('energyChart').getContext('2d');

  const labels = [
    '6:00AM', '6:30AM', '7:00AM', '7:30AM', '8:00AM', '8:30AM', '9:00AM', '9:30AM',
    '10:00AM', '10:30AM', '11:00AM', '11:30AM', '12:00PM', '12:30PM', '1:00PM',
    '1:30PM', '2:00PM', '2:30PM', '3:00PM', '3:30PM', '4:00PM', '4:30PM', '5:00PM', '5:30PM', '6:00PM'
  ];

  const generationData = [
    0, 50, 150, 300, 500, 700, 900, 1200, 1450, 1600, 1750, 1850, 1900, 1920, 1950,
    1930, 1900
  ];

  const irradianceData = [
    0, 30, 50, 100, 150, 190, 242, 335, 380, 430, 460, 475, 490, 498, 495,
    490, 480
  ];

  const energyChart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        {
          label: 'Generation (kW)',
          data: generationData,
          borderColor: 'rgba(73, 164, 239, 1)',
          backgroundColor: 'rgba(73, 164, 239, 0.3)',     // fill color (blue, semi-transparent)
		fill: true, 
          yAxisID: 'y',
        },
        {
          label: 'Irradiance (W/m²)',
          data: irradianceData,
          type: 'line',
          borderColor: 'rgba(255, 191, 60, 1)',
          backgroundColor: 'rgba(0, 0, 0, 1)',
          yAxisID: 'y1',
        }
      ]
    },
    options: {
      responsive: true,
      interaction: {
        mode: 'index',
        intersect: false,
      },
      stacked: false,
      plugins: {
        legend: {
          labels: {
            color: 'white'
          }
        },
        title: {
          display: false
        }
      },
      scales: {
        y: {
          type: 'linear',
          position: 'left',
          title: {
            display: true,
            text: 'Generation (kW)',
            color: 'white'
          },
          ticks: {
            color: 'white'
          },
          grid: {
            color: 'rgba(255,255,255,0.1)'
          }
        },
        y1: {
          type: 'linear',
          position: 'right',
          title: {
            display: true,
            text: 'Irradiance (W/m²)',
            color: 'white'
          },
          ticks: {
            color: 'white'
          },
          grid: {
            drawOnChartArea: false
          }
        },
        x: {
  ticks: {
    color: 'white',
    callback: function(value, index) {
      return index % 2 === 0 ? this.getLabelForValue(value) : '';
    },
    maxRotation: 0,
    minRotation: 0
  },
  grid: {
    color: 'rgba(255,255,255,0.1)'
  }
}
      }
    }
  });
</script>
  <script>
    function updateTimeFields() {
      const now = new Date();
      const tenMinAgo = new Date(now.getTime() - 10 * 60 * 1000);

      const pad = n => n.toString().padStart(2, '0');

      const formatDate = date => {
        return `${pad(date.getMonth() + 1)}/${pad(date.getDate())}/${date.getFullYear()}`;
      };

      const formatTime12Hour = date => {
        let hours = date.getHours();
        const minutes = pad(date.getMinutes());
        const seconds = pad(date.getSeconds());
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        hours = hours ? hours : 12; // 0 becomes 12
        return `${pad(hours)}:${minutes}:${seconds} ${ampm} PST`;
      };

      const formatDateTime = date => {
        return `${formatDate(date)} ${formatTime12Hour(date)}`;
      };

      document.getElementById('tenMinutesAgoDateA').value = formatDate(tenMinAgo);
	        document.getElementById('tenMinutesAgoDateB').value = formatDate(tenMinAgo);
	  document.getElementById('tenMinutesAgoDate9').value = formatDate(tenMinAgo);
      document.getElementById('tenMinutesAgoTimeA').value = formatTime12Hour(tenMinAgo);
	       document.getElementById('tenMinutesAgoTimeB').value = formatTime12Hour(tenMinAgo);
	  document.getElementById('tenMinutesAgoTime9').value = formatTime12Hour(tenMinAgo);
    }

    updateTimeFields();
  </script>
   <script>
    function pad(value) {
      return String(value).padStart(2, '0');
    }

    function updateTime() {
      const now = new Date();

      // UTC time (HH:MM:SS)
      const utcHours = pad(now.getUTCHours());
      const utcMinutes = pad(now.getUTCMinutes());
      const utcSeconds = pad(now.getUTCSeconds());
      document.getElementById('utc-time').textContent = `${utcHours}:${utcMinutes} UTC`;

      // PST time using Intl.DateTimeFormat
      const pstFormatter = new Intl.DateTimeFormat('en-US', {
        timeZone: 'America/Los_Angeles',
        hour: '2-digit',
        minute: '2-digit',
        hour12: true
      });
      const pstTime = pstFormatter.format(now);
      document.getElementById('pst-time').textContent = `${pstTime} PST`;
    }

    updateTime();
  </script>

</body>

</html>